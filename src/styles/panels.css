/**
 * Panel system styles
 * Enhanced panels container and individual panel positioning
 */

/* Enhanced panels structure with performance optimizations */
.panels-container {
  height: 100%;
  width: 100%;
  position: relative;
  container-type: size;
  overflow: visible;

  /* When border is enabled, add padding to accommodate border */
  &[data-panel-border='true'] {
    .panel {
      @apply pl-8;
    }

    /* Hide panel borders on mobile */
    @media (max-width: 767px) {
      .panel {
        @apply pl-0;
      }

      .panel-border {
        @apply hidden;
      }
    }
  }

  /* Panel border animation styles - positioned on left side */
  .panel-border {
    @apply absolute left-0 top-0 w-0.5 bg-white h-full opacity-0;

    /* Minimal performance optimizations for GSAP */
    will-change: transform, opacity;
    transform: translateZ(0);
  }

  /* Individual panels with enhanced performance and better alignment */
  .panel {
    @apply absolute top-0 left-0 w-full h-full flex flex-col gap-4 will-change-auto;

    /* Hardware acceleration and containment - remove containment to prevent clipping */
    transform: translateZ(0);
    /* contain: layout style paint; */
    backface-visibility: hidden;
  }
}

/* Panel animation states for GSAP optimization */
.panel.animating {
  @apply will-change-transform;
}

/* Performance optimizations for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .panel,
  .panel-border {
    @apply will-change-auto;
    transform: none !important;
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}
